<script setup lang="ts">
/**
 * UiIcon — компонент для отображения SVG иконок
 *
 * Все иконки хранятся внутри этого компонента как SVG paths.
 * Это быстрее чем загружать отдельные SVG файлы.
 *
 * Примеры использования:
 * <UiIcon name="whatsapp" />
 * <UiIcon name="phone" size="lg" />
 * <UiIcon name="heart" size="xl" class="text-red-500" />
 *
 * Как добавить новую иконку:
 * 1. Найди SVG иконку (например на heroicons.com или iconify.design)
 * 2. Скопируй значение атрибута "d" из тега <path>
 * 3. Добавь в объект icons ниже: 'имя-иконки': 'значение d'
 */

interface Props {
  // Название иконки — должно существовать в объекте icons
  name: string
  // Размер иконки
  size?: 'sm' | 'md' | 'lg' | 'xl'
}

const props = withDefaults(defineProps<Props>(), {
  size: 'md',
})

/**
 * Размеры иконок в пикселях
 *
 * w-* h-* — ширина и высота в Tailwind
 * 4 = 16px, 6 = 24px, 8 = 32px, 12 = 48px
 */
const sizeClasses = {
  sm: 'w-4 h-4',
  md: 'w-6 h-6',
  lg: 'w-8 h-8',
  xl: 'w-12 h-12',
}

/**
 * Библиотека SVG path для каждой иконки
 *
 * Record<string, string> — TypeScript тип для объекта где:
 *   - ключи — строки (названия иконок)
 *   - значения — строки (SVG path data)
 *
 * Значение "d" — это команды для рисования SVG (M = move, L = line, C = curve и т.д.)
 */
const icons: Record<string, string> = {
  // Мессенджеры
  whatsapp: 'M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z',
  telegram: 'M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z',

  // Контакты
  phone: 'M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z',
  location: 'M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z M12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z',

  // Уход за изделиями
  washing: 'M3 6l3 6v12h12V12l3-6H3zm5 0h8v2H8V6zm1 8h6v2H9v-2z',
  drying: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5',
  ironing: 'M5 12H3v9h18v-9H5zm0-2h16a2 2 0 012 2v9a2 2 0 01-2 2H3a2 2 0 01-2-2v-9a2 2 0 012-2h2zm4-8h6v4H9V2z',
  storage: 'M3 3h18v18H3V3zm2 2v14h14V5H5zm4 3h6v2H9V8zm0 4h6v2H9v-2z',

  // Общие иконки
  check: 'M20 6L9 17l-5-5',
  arrow: 'M5 12h14M12 5l7 7-7 7',
  star: 'M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z',
  heart: 'M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z',
  gift: 'M20 12v10H4V12M2 7h20v5H2V7zM12 22V7M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7zM12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z',
  truck: 'M1 3h15v13H1V3zm15 10h4l3 3v4h-7v-7zM5 19a2 2 0 1 0 4 0 2 2 0 0 0-4 0zm12 0a2 2 0 1 0 4 0 2 2 0 0 0-4 0z',

  // Навигация (меню)
  menu: 'M3 12h18M3 6h18M3 18h18',
  close: 'M18 6L6 18M6 6l12 12',
}
</script>

<template>
  <!--
    SVG элемент с настройками:
    - viewBox="0 0 24 24" — все иконки в сетке 24x24
    - fill="none" — без заливки по умолчанию
    - stroke="currentColor" — цвет линий = текущий цвет текста (наследуется)
    - stroke-width="2" — толщина линий
    - stroke-linecap/linejoin="round" — скруглённые концы и углы линий
  -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    :class="sizeClasses[size]"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <!--
      Для WhatsApp и Telegram используем заливку (fill) вместо обводки (stroke),
      потому что эти логотипы — сплошные фигуры, а не контурные линии
    -->
    <path v-if="name === 'whatsapp' || name === 'telegram'" :d="icons[name]" fill="currentColor" stroke="none" />
    <path v-else :d="icons[name]" />
  </svg>
</template>
