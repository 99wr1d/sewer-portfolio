<script setup lang="ts">
/**
 * CareTipsSection ‚Äî —Å–µ–∫—Ü–∏—è "–°–æ–≤–µ—Ç—ã –ø–æ —É—Ö–æ–¥—É"
 *
 * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É –∑–∞ –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ –∏–∑–¥–µ–ª–∏–π:
 * - –î–µ—Ç—Å–∫–∏–µ —Ö–∞–ª–∞—Ç—ã
 * - –ü–æ–ª–æ—Ç–µ–Ω—Ü–∞ —Å –≤—ã—à–∏–≤–∫–æ–π
 *
 * –ö–∞–∂–¥—ã–π —Ç–∏–ø –∏–º–µ–µ—Ç —Å–≤–æ–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: —Å—Ç–∏—Ä–∫–∞, –º–æ—é—â–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞, —Å—É—à–∫–∞, –≥–ª–∞–∂–∫–∞.
 * –í –∫–æ–Ω—Ü–µ ‚Äî –±–ª–æ–∫ "–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å" —Å –æ–±—â–∏–º–∏ –∑–∞–º–µ—Ç–∫–∞–º–∏.
 */

import { ref } from 'vue'
import { bathrobeCareGuide, towelCareGuide, careImportantNotes } from '~/src/shared/config'
import { UiIcon } from '~/src/shared/ui'

// =============================================================================
// –õ–û–ì–ò–ö–ê –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –¢–ê–ë–û–í
// =============================================================================

/**
 * –¢–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–∞–±: 'bathrobe' –∏–ª–∏ 'towel'
 * ref ‚Äî —Ä–µ–∞–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Vue –æ–±–Ω–æ–≤–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
 */
const activeTab = ref<'bathrobe' | 'towel'>('bathrobe')

/**
 * –û–±–∞ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —É—Ö–æ–¥—É –≤ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
 */
const careGuides = {
  bathrobe: bathrobeCareGuide,
  towel: towelCareGuide,
}
</script>

<template>
  <section id="care" class="section-padding bg-cream-50">
    <div class="container-narrow">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏ -->
      <div class="text-center max-w-2xl mx-auto mb-10">
        <span class="inline-block px-4 py-2 bg-white text-primary-600 rounded-full text-sm font-medium mb-4">
          –°–æ–≤–µ—Ç—ã –ø–æ —É—Ö–æ–¥—É
        </span>
        <h2 class="heading-section mb-4">
          –ö–∞–∫ —É—Ö–∞–∂–∏–≤–∞—Ç—å –∑–∞ –∏–∑–¥–µ–ª–∏—è–º–∏
        </h2>
        <p class="text-body">
          –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º –ø—Ä–æ—Å—Ç—ã–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º, —á—Ç–æ–±—ã –≤–∞—à–∏ –∏–∑–¥–µ–ª–∏—è
          —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ —Å–≤–æ–π –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∏–¥ –¥–æ–ª–≥–∏–µ –≥–æ–¥—ã
        </p>
      </div>

      <!--
        –¢–∞–±—ã –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ö–∞–ª–∞—Ç–∞–º–∏ –∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞–º–∏
        flex ‚Äî —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥
        justify-center ‚Äî —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        gap-2 ‚Äî –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏
      -->
      <div class="flex justify-center gap-2 mb-8">
        <button
          type="button"
          class="px-6 py-3 rounded-full font-medium transition-all"
          :class="activeTab === 'bathrobe'
            ? 'bg-primary-600 text-white shadow-md'
            : 'bg-white text-secondary-600 hover:bg-cream-100'"
          @click="activeTab = 'bathrobe'"
        >
          üßº –•–∞–ª–∞—Ç—ã
        </button>
        <button
          type="button"
          class="px-6 py-3 rounded-full font-medium transition-all"
          :class="activeTab === 'towel'
            ? 'bg-primary-600 text-white shadow-md'
            : 'bg-white text-secondary-600 hover:bg-cream-100'"
          @click="activeTab = 'towel'"
        >
          üß∫ –ü–æ–ª–æ—Ç–µ–Ω—Ü–∞
        </button>
      </div>

      <!--
        –ö–æ–Ω—Ç–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∞–±–∞
        transition ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
      -->
      <div class="bg-white rounded-3xl p-6 md:p-8 shadow-soft">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏–∑–¥–µ–ª–∏—è -->
        <div class="mb-8">
          <h3 class="font-serif text-xl md:text-2xl font-semibold text-secondary-900 mb-3">
            {{ careGuides[activeTab].title }}
          </h3>
          <p class="text-secondary-600">
            {{ careGuides[activeTab].subtitle }}
          </p>
        </div>

        <!--
          –°–µ—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É—Ö–æ–¥–∞ (—Å—Ç–∏—Ä–∫–∞, —Å—É—à–∫–∞ –∏ —Ç.–¥.)
          grid ‚Äî CSS Grid –¥–ª—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è
          sm:grid-cols-2 ‚Äî –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö sm –∏ –±–æ–ª—å—à–µ ‚Äî 2 –∫–æ–ª–æ–Ω–∫–∏
          gap-6 ‚Äî –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
        -->
        <div class="grid sm:grid-cols-2 gap-6">
          <div
            v-for="category in careGuides[activeTab].categories"
            :key="category.title"
            class="bg-cream-50 rounded-2xl p-5"
          >
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–∫–æ–Ω–∫–æ–π -->
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center">
                <UiIcon :name="category.icon" size="sm" class="text-primary-600" />
              </div>
              <h4 class="heading-card">
                {{ category.title }}
              </h4>
            </div>

            <!--
              –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
              space-y-2 ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø—É–Ω–∫—Ç–∞–º–∏
            -->
            <ul class="space-y-2">
              <li
                v-for="(item, index) in category.items"
                :key="index"
                class="flex items-start gap-2 text-sm"
                :class="item.forbidden ? 'text-red-600' : 'text-secondary-600'"
              >
                <!--
                  –ò–∫–æ–Ω–∫–∞ –ø–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–º:
                  - ‚ùå –¥–ª—è –∑–∞–ø—Ä–µ—Ç–æ–≤ (forbidden: true)
                  - ‚úì –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
                -->
                <span class="flex-shrink-0 mt-0.5">
                  {{ item.forbidden ? '‚ùå' : '‚úì' }}
                </span>
                <span>{{ item.text }}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!--
        –ë–ª–æ–∫ "–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å"
        mt-8 ‚Äî –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É
      -->
      <div class="mt-8 bg-primary-50 rounded-2xl p-6 md:p-8">
        <h3 class="font-serif text-lg font-semibold text-primary-900 mb-4 flex items-center gap-2">
          <span>üåø</span>
          –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å
        </h3>
        <ul class="space-y-3">
          <li
            v-for="(note, index) in careImportantNotes"
            :key="index"
            class="flex items-start gap-3 text-primary-800"
          >
            <span class="flex-shrink-0 w-5 h-5 rounded-full bg-primary-200 flex items-center justify-center text-xs font-medium text-primary-700">
              ‚úì
            </span>
            <span>{{ note.text }}</span>
          </li>
        </ul>
      </div>
    </div>
  </section>
</template>
